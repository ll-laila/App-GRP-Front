import './polyfills.server.mjs';
import{a as se}from"./chunk-73VNVH7D.mjs";import{a as S,b as ae}from"./chunk-2YG2YHPD.mjs";import"./chunk-D4RJRHB5.mjs";import{a as Z}from"./chunk-IJRDI6QA.mjs";import{a as $,b as ee,c as te,f as ie,h as ne,n as re}from"./chunk-ZDJMNRIQ.mjs";import{B as P,E as U,F as H,G as j,H as q,I as J,M as K,N as F,T as Q,U as X,i as G,ma as Y,o as O,p as A,r as B}from"./chunk-NVRXDY5V.mjs";import"./chunk-XR27ODAI.mjs";import{c as I}from"./chunk-UR2QYS3H.mjs";import{a as oe}from"./chunk-GAHSYCFE.mjs";import"./chunk-FO7JI6NW.mjs";import"./chunk-32WZQ4LQ.mjs";import{e as z,f as W}from"./chunk-GFB74FXC.mjs";import"./chunk-ISUWMF2A.mjs";import"./chunk-YCIOFEEA.mjs";import{Ab as k,Eb as _,Kb as V,Pb as r,Qb as a,Rb as C,Ub as D,Vb as h,Yb as f,_b as s,ga as x,gc as M,hc as l,ib as c,ic as L,ka as E,nc as v,oc as T,pc as w,rc as R,va as p,wa as u,xa as g,xc as N,ya as b,yb as d,zb as y}from"./chunk-VWPO2VC4.mjs";import"./chunk-XAJIYFV3.mjs";var ce=()=>[F,import("./chunk-GPMY24AR.mjs").then(t=>t.NgTemplateOutlet),G,W,X,Q,Y,I],me=()=>[import("./chunk-GPMY24AR.mjs").then(t=>t.NgTemplateOutlet)];function le(t,o){if(t&1){let n=h();r(0,"c-nav-item",3)(1,"button",11),f("click",function(){p(n);let i=s(2);return u(i.retour())}),l(2,"Return"),a()()}if(t&2){let n=s(2);c(),_("routerLink",n.returnUrl)}}function pe(t,o){t&1&&C(0,"c-spinner",8)}function ue(t,o){t&1&&(g(),C(0,"svg",9))}function de(t,o){t&1&&D(0)}function _e(t,o){if(t&1){let n=h();r(0,"c-row",1)(1,"c-nav",2),d(2,le,3,1,"c-nav-item",3),r(3,"c-nav-item",4)(4,"button",5),f("click",function(){p(n);let i=s();return u(i.cancel())}),l(5,"Annuler"),a()(),r(6,"c-nav-item",3)(7,"button",6),f("click",function(){p(n);let i=s();return u(i.reset())}),l(8,"Reset"),a()(),r(9,"c-nav-item",3)(10,"button",7),f("click",function(){p(n);let i=s();return u(i.create())}),d(11,pe,1,0,"c-spinner",8)(12,ue,1,0,":svg:svg",9),l(13," Cr\xE9er "),a()()()(),d(14,de,1,0,"ng-container",10)}if(t&2){let n=s(),e=M(7);c(2),V(n.toReturn?2:-1),c(9),V(n.sending?11:12),c(3),_("ngTemplateOutlet",e)}}function fe(t,o){t&1&&D(0)}function xe(t,o){if(t&1&&d(0,fe,1,0,"ng-container",10),t&2){s();let n=M(7);_("ngTemplateOutlet",n)}}function Ce(t,o){if(t&1){let n=h();r(0,"c-card",1)(1,"c-card-header")(2,"strong",12),l(3,'Veuillez remplir les informations ci-dessous pour cr\xE9er un nouveau "Taxe"'),a()(),r(4,"c-card-body")(5,"c-row",13)(6,"c-col",14),g(),C(7,"svg",15),b(),r(8,"label",16),l(9,"Nom"),a(),r(10,"input",17),w("ngModelChange",function(i){p(n);let m=s();return T(m.item.nom,i)||(m.item.nom=i),u(i)}),f("blur",function(){p(n);let i=s();return u(i.validator.nom.validate())}),a(),r(11,"c-form-feedback",18),l(12),a()(),r(13,"c-col",14),g(),C(14,"svg",19),b(),r(15,"label",20),l(16,"Taux de taxe"),a(),r(17,"input",21),w("ngModelChange",function(i){p(n);let m=s();return T(m.item.tauxImposition,i)||(m.item.tauxImposition=i),u(i)}),a()(),r(18,"c-col",22)(19,"c-form-check")(20,"input",23),w("ngModelChange",function(i){p(n);let m=s();return T(m.item.actif,i)||(m.item.actif=i),u(i)}),a(),r(21,"label",24),l(22,"Actif"),a()()()()()()}if(t&2){let n=s();c(10),v("ngModel",n.item.nom),_("valid",n.validator.nom.valid),c(),_("valid",!1),c(),L(n.validator.nom.message),c(5),v("ngModel",n.item.tauxImposition),c(3),v("ngModel",n.item.actif)}}var Ne=(()=>{let o=class o{constructor(){this.sending=!1,this.standAlon=!0,this.entrepriseSelectedService=x(oe),this.router=x(z),this.service=x(ae),this.validator=se.init(()=>this.item),this.toasterService=x(Z)}set setItemGetter(e){this.itemGetter=e,this.standAlon=!1}set setItemSetter(e){this.itemSetter=e}set setValidator(e){this.validator=e}ngOnInit(){this.service.keepData||this.reset(!1),this.service.keepData=!1}create(){console.log(this.item),this.validator.validate()&&(this.sending=!0,this.item.idEntreprise=this.entrepriseSelectedService.getEntrepriseSelected(),this.service.create().subscribe({next:e=>{if(this.sending=!1,e!=null){if(this.toReturn){this.item=e,this.router.navigate([this.returnUrl]).then();return}this.item=new S,this.router.navigate(["/parametres/taxe"]).then(),this.toasterService.toast({message:"Un nouveau taxe a \xE9t\xE9 ajout\xE9",color:"success"})}},error:e=>{this.sending=!1,console.log(e),this.validator.import(e.error)}}))}reset(e=!0){(e||this.item==null)&&(this.item=new S),this.validator.reset()}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.itemGetter()}set item(e){this.itemSetter(e)}itemGetter(){return this.service.item}itemSetter(e){this.service.item=e}get returnUrl(){return this.service.returnUrl}get toReturn(){return this.service.toReturn()}cancel(){this.item=new S}retour(){this.router.navigate(["/pays/pays/list"]).then()}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=E({type:o,selectors:[["app-taxe-create"]],inputs:{setItemGetter:[0,"getter","setItemGetter"],setItemSetter:[0,"setter","setItemSetter"],setValidator:[0,"validator","setValidator"]},standalone:!0,features:[R],decls:8,vars:2,consts:[["createFrom",""],[1,"mb-3"],[1,"hstack","gap"],[1,"p-2"],[1,"p-2","ms-auto"],["cButton","","color","secondary","variant","outline","routerLink","/parametres/taxe",3,"click"],["cButton","","color","dark",3,"click"],["cButton","","color","primary",3,"click"],["aria-hidden","true","size","sm"],["cIcon","","name","cilPlus"],[4,"ngTemplateOutlet"],["cButton","","color","secondary",3,"click","routerLink"],[1,"responsive-header",2,"color","#1d0528","font-family","'Times New Roman'","font-size","21px","margin-left","300px"],[1,"g-3"],["sm","4"],["cIcon","","name","cil-swap-horizontal",2,"color","blue","font-size","30px"],["cLabel","","for","nom",2,"color","black","font-family","'Times New Roman'","font-size","18px","font-weight","bold"],["cFormControl","","id","nom","type","text","placeholder","Nom","name","nom",3,"ngModelChange","blur","ngModel","valid"],[3,"valid"],["cIcon","","name","cil-barcode",2,"color","blue","font-size","30px"],["cLabel","","for","tauxImposition",2,"color","black","font-family","'Times New Roman'","font-size","18px","font-weight","bold"],["cFormControl","","id","tauxImposition","type","number","placeholder","TauxImposition","name","tauxImposition",3,"ngModelChange","ngModel"],["sm","12",1,"g-3"],["cFormCheckInput","","id","actif","name","actif","type","checkbox",3,"ngModelChange","ngModel"],["cFormCheckLabel","","for","actif"]],template:function(i,m){i&1&&(d(0,_e,15,3),y(1,0,ce),d(3,xe,1,1),y(4,3,me),d(6,Ce,23,6,"ng-template",null,0,N)),i&2&&(c(),k(m.standAlon),c(3),k(!m.standAlon))},dependencies:[F,K,J,re,ee,ne,$,te,ie,U,O,A,B,I,j,H,q,P],styles:['@charset "UTF-8";.responsive-header[_ngcontent-%COMP%]{font-family:Times New Roman;font-size:21px;margin-left:300px}@media (max-width: 1024px){.responsive-header[_ngcontent-%COMP%]{font-size:18px;margin-left:100px}}@media (max-width: 768px){.responsive-header[_ngcontent-%COMP%]{font-size:16px;margin-left:50px;text-align:center}}@media (max-width: 480px){.responsive-header[_ngcontent-%COMP%]{font-size:14px;margin-left:20px;text-align:center}}']});let t=o;return t})();export{Ne as TaxeCreateComponent};
