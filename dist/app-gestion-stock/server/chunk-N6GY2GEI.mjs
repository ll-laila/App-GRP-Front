import './polyfills.server.mjs';
import{a as te}from"./chunk-4MOZSLDU.mjs";import{a as $,b as ee}from"./chunk-PFMZHF4H.mjs";import"./chunk-D4RJRHB5.mjs";import{a as Y,b as Z}from"./chunk-7YOAHTJJ.mjs";import{b as J,c as K,f as Q,n as X}from"./chunk-ZDJMNRIQ.mjs";import{B as R,E as W,I as P,M as z,N as T,T as H,U as j,i as A,ma as q,o as O,p as B}from"./chunk-NVRXDY5V.mjs";import"./chunk-XR27ODAI.mjs";import{c as w}from"./chunk-UR2QYS3H.mjs";import"./chunk-FO7JI6NW.mjs";import"./chunk-32WZQ4LQ.mjs";import{e as G,f as L}from"./chunk-GFB74FXC.mjs";import"./chunk-ISUWMF2A.mjs";import"./chunk-YCIOFEEA.mjs";import{Ab as D,Eb as _,Kb as x,Pb as s,Qb as m,Rb as d,Ub as b,Vb as N,Yb as f,_b as l,ga as h,gc as S,hc as u,ib as o,ic as y,ka as F,nc as V,oc as U,pc as I,rc as M,va as c,wa as p,xa as g,xc as E,ya as k,yb as a,zb as C}from"./chunk-VWPO2VC4.mjs";import"./chunk-XAJIYFV3.mjs";var ie=()=>[T,import("./chunk-GPMY24AR.mjs").then(t=>t.NgTemplateOutlet),A,L,j,H,q,w],ne=()=>[import("./chunk-GPMY24AR.mjs").then(t=>t.NgTemplateOutlet)];function re(t,n){t&1&&d(0,"c-spinner",7)}function oe(t,n){t&1&&(g(),d(0,"svg",8))}function le(t,n){t&1&&d(0,"c-spinner",7)}function ae(t,n){t&1&&(g(),d(0,"svg",10))}function se(t,n){t&1&&b(0)}function me(t,n){if(t&1){let r=N();s(0,"c-row",1)(1,"c-nav",2)(2,"c-nav-item",3)(3,"button",4),f("click",function(){c(r);let i=l();return p(i.cancel())}),u(4,"Annuler"),m()(),s(5,"c-nav-item",5)(6,"button",6),f("click",function(){c(r);let i=l();return p(i.reset())}),a(7,re,1,0,"c-spinner",7)(8,oe,1,0,":svg:svg",8),u(9," Actualiser "),m()(),s(10,"c-nav-item",5)(11,"button",9),f("click",function(){c(r);let i=l();return p(i.update())}),a(12,le,1,0,"c-spinner",7)(13,ae,1,0,":svg:svg",10),u(14," Modifier "),m()()()(),a(15,se,1,0,"ng-container",11)}if(t&2){let r=l(),e=S(7);o(7),x(r.resetting?7:8),o(5),x(r.sending?12:13),o(3),_("ngTemplateOutlet",e)}}function ce(t,n){t&1&&b(0)}function pe(t,n){if(t&1&&a(0,ce,1,0,"ng-container",11),t&2){l();let r=S(7);_("ngTemplateOutlet",r)}}function de(t,n){if(t&1){let r=N();s(0,"c-card",1)(1,"c-card-body")(2,"c-row",12)(3,"c-col",13),g(),d(4,"svg",14),k(),s(5,"label",15),u(6,"Labelle"),m(),s(7,"input",16),I("ngModelChange",function(i){c(r);let v=l();return U(v.item.labelle,i)||(v.item.labelle=i),p(i)}),f("blur",function(){c(r);let i=l();return p(i.validator.labelle.validate())}),m(),s(8,"c-form-feedback",17),u(9),m()()()()()}if(t&2){let r=l();o(7),V("ngModel",r.item.labelle),_("valid",r.validator.labelle.valid),o(),_("valid",!1),o(),y(r.validator.labelle.message)}}var Ee=(()=>{let n=class n{constructor(){this.isPartOfUpdateForm=!1,this.sending=!1,this.resetting=!1,this.standAlon=!0,this.router=h(G),this.service=h(ee),this.entrepriseService=h(Z),this.validator=te.init(()=>this.item)}set setItemGetter(e){this.itemGetter=e,this.standAlon=!1}set setItemSetter(e){this.itemSetter=e}set setValidator(e){this.validator=e}ngAfterContentInit(){!this.isPartOfUpdateForm&&this.item.id==null&&this.router.navigate(["/parametres/nouvelle-devise"]).then()}ngOnInit(){this.service.keepData||this.validator.reset()}update(){console.log(this.item),this.validator.validate()&&(this.sending=!0,this.service.update().subscribe({next:e=>{this.sending=!1,e!=null&&this.router.navigate(["/parametres/nouvelle-devise"]).then()},error:e=>{this.sending=!1,console.log(e)}}))}reset(){this.resetting=!0,this.service.findById(this.item.id).subscribe({next:e=>{this.item=e,this.validator.reset(),this.resetting=!1},error:e=>{console.log(e),this.resetting=!1}})}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.itemGetter()}set item(e){this.itemSetter(e)}itemGetter(){return this.service.item}itemSetter(e){this.service.item=e}get entreprise(){return this.item.entreprise==null&&(this.item.entreprise=new Y),this.item.entreprise}set entreprise(e){this.item.entreprise=e}navigateToEntrepriseCreate(){this.entrepriseService.returnUrl=this.router.url,this.router.navigate(["/parametres/entreprise/create"]).then()}cancel(){this.item=new $}retour(){this.router.navigate(["/pays/pays/list"]).then()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=F({type:n,selectors:[["app-nouvelle-devise-update"]],inputs:{setItemGetter:[0,"getter","setItemGetter"],setItemSetter:[0,"setter","setItemSetter"],setValidator:[0,"validator","setValidator"]},standalone:!0,features:[M],decls:8,vars:2,consts:[["createFrom",""],[1,"mb-3"],[1,"hstack","gap"],[1,"p-2","ms-auto"],["cButton","","color","secondary","variant","outline","routerLink","/parametres/nouvelle-devise",3,"click"],[1,"p-2"],["cButton","","color","dark",3,"click"],["aria-hidden","true","size","sm"],["cIcon","","name","cilReload"],["cButton","","color","primary",3,"click"],["cIcon","","name","cilPen"],[4,"ngTemplateOutlet"],[1,"g-3"],["sm","4"],["cIcon","","name","cil-barcode",2,"color","blue","font-size","30px"],["cLabel","",2,"color","black","font-family","'Times New Roman'","font-size","18px","font-weight","bold"],["cFormControl","","id","labelle","type","text","placeholder","Labelle","name","labelle",3,"ngModelChange","blur","ngModel","valid"],[3,"valid"]],template:function(i,v){i&1&&(a(0,me,16,3),C(1,0,ie),a(3,pe,1,1),C(4,3,ne),a(6,de,10,4,"ng-template",null,0,E)),i&2&&(o(),D(v.standAlon),o(3),D(!v.standAlon))},dependencies:[T,z,P,X,J,K,Q,W,O,B,R,w]});let t=n;return t})();export{Ee as NouvelleDeviseUpdateComponent};
