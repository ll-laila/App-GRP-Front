import{a as $}from"./chunk-ZQQL45F7.js";import{a as h,b as Z}from"./chunk-KQQNHP2G.js";import"./chunk-SR3OXJX3.js";import{b as K,c as Q,f as X,n as Y}from"./chunk-C5NPBRNY.js";import{$ as q,I as W,L as U,P as z,T as H,U as V,_ as j,p as N,ta as J,v as A,w as O}from"./chunk-EEWOCATZ.js";import{c as S}from"./chunk-4DTSML7Z.js";import{d as L,e as B}from"./chunk-7D4QPVHB.js";import"./chunk-2BQUVQN4.js";import"./chunk-RTZTBWEW.js";import"./chunk-3HUUSNPM.js";import"./chunk-H2QFYA5F.js";import{Cb as _,Ib as k,Nb as s,Ob as l,Pb as C,Sb as w,Tb as v,Wb as d,Yb as o,ec as b,fb as a,fc as u,ga as g,gc as F,ka as P,lc as I,mc as E,nc as M,pc as R,va as m,vc as G,wa as p,wb as c,xa as x,xb as y,ya as T,yb as D}from"./chunk-4HLAVBW4.js";import"./chunk-RGL3W33T.js";var ee=()=>[V,import("./chunk-CYWVAYB3.js").then(t=>t.NgTemplateOutlet),N,B,q,j,J,S],te=()=>[import("./chunk-CYWVAYB3.js").then(t=>t.NgTemplateOutlet)];function ne(t,r){if(t&1){let n=v();s(0,"c-nav-item",3)(1,"button",11),d("click",function(){m(n);let i=o(2);return p(i.retour())}),u(2,"Return"),l()()}if(t&2){let n=o(2);a(),_("routerLink",n.returnUrl)}}function ie(t,r){t&1&&C(0,"c-spinner",8)}function re(t,r){t&1&&(x(),C(0,"svg",9))}function oe(t,r){t&1&&w(0)}function ae(t,r){if(t&1){let n=v();s(0,"c-row",1)(1,"c-nav",2),c(2,ne,3,1,"c-nav-item",3),s(3,"c-nav-item",4)(4,"button",5),d("click",function(){m(n);let i=o();return p(i.cancel())}),u(5,"Annuler"),l()(),s(6,"c-nav-item",3)(7,"button",6),d("click",function(){m(n);let i=o();return p(i.reset())}),u(8,"R\xE9initialiser"),l()(),s(9,"c-nav-item",3)(10,"button",7),d("click",function(){m(n);let i=o();return p(i.create())}),c(11,ie,1,0,"c-spinner",8)(12,re,1,0,":svg:svg",9),u(13," Cr\xE9er "),l()()()(),c(14,oe,1,0,"ng-container",10)}if(t&2){let n=o(),e=b(7);a(2),k(n.toReturn?2:-1),a(9),k(n.sending?11:12),a(3),_("ngTemplateOutlet",e)}}function se(t,r){t&1&&w(0)}function ce(t,r){if(t&1&&c(0,se,1,0,"ng-container",10),t&2){o();let n=b(7);_("ngTemplateOutlet",n)}}function le(t,r){if(t&1){let n=v();s(0,"c-card",1)(1,"c-card-body")(2,"c-row",12)(3,"c-col",13),x(),C(4,"svg",14),T(),s(5,"label",15),u(6,"Nom"),l(),s(7,"input",16),M("ngModelChange",function(i){m(n);let f=o();return E(f.item.name,i)||(f.item.name=i),p(i)}),d("blur",function(){m(n);let i=o();return p(i.validator.name.validate())}),l(),s(8,"c-form-feedback",17),u(9),l()()()()()}if(t&2){let n=o();a(7),I("ngModel",n.item.name),_("valid",n.validator.name.valid),a(),_("valid",!1),a(),F(n.validator.name.message)}}var Te=(()=>{let r=class r{constructor(){this.sending=!1,this.standAlon=!0,this.router=g(L),this.service=g(Z),this.validator=$.init(()=>this.item)}set setItemGetter(e){this.itemGetter=e,this.standAlon=!1}set setItemSetter(e){this.itemSetter=e}set setValidator(e){this.validator=e}ngOnInit(){this.service.keepData||this.reset(!1),this.service.keepData=!1}create(){console.log(this.item),this.validator.validate()&&(this.sending=!0,this.service.create().subscribe({next:e=>{if(this.sending=!1,e!=null){if(this.toReturn){this.item=e,this.router.navigate([this.returnUrl]).then();return}this.item=new h,this.router.navigate(["/adresse/pays"]).then()}},error:e=>{this.sending=!1,console.log(e),this.validator.import(e.error)}}))}reset(e=!0){(e||this.item==null)&&(this.item=new h),this.validator.reset()}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.itemGetter()}set item(e){this.itemSetter(e)}itemGetter(){return this.service.item}itemSetter(e){this.service.item=e}get returnUrl(){return this.service.returnUrl}get toReturn(){return this.service.toReturn()}cancel(){this.item=new h}retour(){this.router.navigate(["/pays/pays/list"]).then()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=P({type:r,selectors:[["app-pays-create"]],inputs:{setItemGetter:[0,"getter","setItemGetter"],setItemSetter:[0,"setter","setItemSetter"],setValidator:[0,"validator","setValidator"]},standalone:!0,features:[R],decls:8,vars:2,consts:[["createFrom",""],[1,"mb-3"],[1,"hstack","gap"],[1,"p-2"],[1,"p-2","ms-auto"],["cButton","","color","secondary","variant","outline","routerLink","/adresse/pays",3,"click"],["cButton","","color","dark",3,"click"],["cButton","","color","primary",3,"click"],["aria-hidden","true","size","sm"],["cIcon","","name","cilPlus"],[4,"ngTemplateOutlet"],["cButton","","color","secondary",3,"click","routerLink"],[1,"g-3"],["sm","4"],["cIcon","","name","cil-globe-alt",2,"color","blue","font-size","30px"],["cLabel","","for","name",2,"color","black","font-family","'Arial Black'"],["cFormControl","","id","name","type","text","placeholder","Name","name","name",3,"ngModelChange","blur","ngModel","valid"],[3,"valid"]],template:function(i,f){i&1&&(c(0,ae,15,3),y(1,0,ee),c(3,ce,1,1),y(4,3,te),c(6,le,10,4,"ng-template",null,0,G)),i&2&&(a(),D(f.standAlon),a(3),D(!f.standAlon))},dependencies:[V,H,z,Y,K,Q,X,U,A,O,S,W]});let t=r;return t})();export{Te as PaysCreateComponent};
