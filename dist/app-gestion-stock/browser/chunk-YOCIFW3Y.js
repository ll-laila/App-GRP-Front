import"./chunk-3QYLCL6F.js";import{a as fe}from"./chunk-AR4GS4HJ.js";import"./chunk-PWZLSYGI.js";import{a as ge}from"./chunk-XKCJ6MA6.js";import{a as pe,b as ue}from"./chunk-URSAOOCG.js";import{a as _e,b as ve}from"./chunk-ECGNXNAA.js";import"./chunk-SR3OXJX3.js";import{a as ce,b as me}from"./chunk-A6E5FFHP.js";import{a as se,b as de}from"./chunk-HCN6FDQI.js";import{b as Z,c as $,f as ee,h as te,i as ie,j as ne,k as re,n as oe}from"./chunk-RMR25O2K.js";import{a as ae,b as le}from"./chunk-36NSVSE4.js";import{$ as X,I as z,J as H,K as j,L as q,P as J,T as K,U as D,_ as Q,p as F,ta as Y,v as O,w as R}from"./chunk-ETPUSV7N.js";import{c as L}from"./chunk-DKLNZNMU.js";import{d as A,e as N}from"./chunk-EVAI7AMW.js";import"./chunk-2BQUVQN4.js";import"./chunk-RTZTBWEW.js";import"./chunk-VVDYSQS6.js";import"./chunk-LUIBGOM6.js";import{Cb as p,Ib as M,Kb as y,Lb as k,Mb as T,Nb as o,Ob as a,Pb as h,Sb as I,Tb as U,Wb as _,Yb as s,ec as E,fc as m,ga as S,gb as n,gc as v,ka as W,lc as f,mc as g,nc as x,pc as G,va as d,vc as B,wa as c,wb as C,xa as b,xb as V,ya as w,yb as P}from"./chunk-BXK32XEB.js";import"./chunk-RGL3W33T.js";var xe=()=>[D,import("./chunk-K4L4KWTC.js").then(r=>r.NgTemplateOutlet),F,N,X,Q,Y,L],Ce=()=>[import("./chunk-K4L4KWTC.js").then(r=>r.NgTemplateOutlet)];function he(r,u){r&1&&h(0,"c-spinner",7)}function Se(r,u){r&1&&(b(),h(0,"svg",8))}function be(r,u){r&1&&h(0,"c-spinner",7)}function we(r,u){r&1&&(b(),h(0,"svg",10))}function ye(r,u){r&1&&I(0)}function ke(r,u){if(r&1){let i=U();o(0,"c-row",1)(1,"c-nav",2)(2,"c-nav-item",3)(3,"button",4),_("click",function(){d(i);let t=s();return c(t.cancel())}),m(4,"Cancel"),a()(),o(5,"c-nav-item",5)(6,"button",6),_("click",function(){d(i);let t=s();return c(t.reset())}),C(7,he,1,0,"c-spinner",7)(8,Se,1,0,":svg:svg",8),m(9," Reset "),a()(),o(10,"c-nav-item",5)(11,"button",9),_("click",function(){d(i);let t=s();return c(t.update())}),C(12,be,1,0,"c-spinner",7)(13,we,1,0,":svg:svg",10),m(14," Update "),a()()()(),C(15,ye,1,0,"ng-container",11)}if(r&2){let i=s(),e=E(7);n(7),M(i.resetting?7:8),n(5),M(i.sending?12:13),n(3),p("ngTemplateOutlet",e)}}function Te(r,u){r&1&&I(0)}function Ve(r,u){if(r&1&&C(0,Te,1,0,"ng-container",11),r&2){s();let i=E(7);p("ngTemplateOutlet",i)}}function Pe(r,u){if(r&1&&(o(0,"option",29),m(1),a()),r&2){let i=u.$implicit;p("value",i.id),n(),v(i.id)}}function Me(r,u){if(r&1&&(o(0,"option",29),m(1),a()),r&2){let i=u.$implicit;p("value",i.id),n(),v(i.id)}}function Ie(r,u){if(r&1&&(o(0,"option",29),m(1),a()),r&2){let i=u.$implicit;p("value",i.id),n(),v(i.code)}}function Ue(r,u){if(r&1){let i=U();o(0,"c-card",1)(1,"c-card-body")(2,"c-row",12)(3,"c-col",13)(4,"label",14),m(5,"Nom"),a(),o(6,"input",15),x("ngModelChange",function(t){d(i);let l=s();return g(l.item.nom,t)||(l.item.nom=t),c(t)}),_("blur",function(){d(i);let t=s();return c(t.validator.nom.validate())}),a(),o(7,"c-form-feedback",16),m(8),a()(),o(9,"c-col",13)(10,"label",17),m(11,"Sku"),a(),o(12,"input",18),x("ngModelChange",function(t){d(i);let l=s();return g(l.item.sku,t)||(l.item.sku=t),c(t)}),_("blur",function(){d(i);let t=s();return c(t.validator.sku.validate())}),a(),o(13,"c-form-feedback",16),m(14),a()(),o(15,"c-col",13)(16,"label",19),m(17,"Barcode"),a(),o(18,"input",20),x("ngModelChange",function(t){d(i);let l=s();return g(l.item.barcode,t)||(l.item.barcode=t),c(t)}),_("blur",function(){d(i);let t=s();return c(t.validator.barcode.validate())}),a(),o(19,"c-form-feedback",16),m(20),a()(),o(21,"c-col",13)(22,"label",21),m(23,"NiveauStockInitial"),a(),o(24,"input",22),x("ngModelChange",function(t){d(i);let l=s();return g(l.item.niveauStockInitial,t)||(l.item.niveauStockInitial=t),c(t)}),_("blur",function(){d(i);let t=s();return c(t.validator.niveauStockInitial.validate())}),a(),o(25,"c-form-feedback",16),m(26),a()(),o(27,"c-col",13)(28,"label",23),m(29,"PointCommande"),a(),o(30,"input",24),x("ngModelChange",function(t){d(i);let l=s();return g(l.item.pointCommande,t)||(l.item.pointCommande=t),c(t)}),_("blur",function(){d(i);let t=s();return c(t.validator.pointCommande.validate())}),a(),o(31,"c-form-feedback",16),m(32),a()(),o(33,"c-col",13)(34,"label",25),m(35,"PrixGros"),a(),o(36,"input",26),x("ngModelChange",function(t){d(i);let l=s();return g(l.item.prixGros,t)||(l.item.prixGros=t),c(t)}),_("blur",function(){d(i);let t=s();return c(t.validator.prixGros.validate())}),a(),o(37,"c-form-feedback",16),m(38),a()(),o(39,"c-col",13)(40,"label",27),m(41,"Devises"),a(),o(42,"c-input-group")(43,"select",28),x("ngModelChange",function(t){d(i);let l=s();return g(l.devises.id,t)||(l.devises.id=t),c(t)}),_("blur",function(){d(i);let t=s();return c(t.validator.devises.validate())}),k(44,Pe,2,2,"option",29,y),a(),o(46,"button",30),_("click",function(){d(i);let t=s();return c(t.navigateToDevisesCreate())}),b(),h(47,"svg",31),a(),w(),o(48,"c-form-feedback",16),m(49),a()()(),o(50,"c-col",13)(51,"label",32),m(52,"Taxe"),a(),o(53,"c-input-group")(54,"select",33),x("ngModelChange",function(t){d(i);let l=s();return g(l.taxe.id,t)||(l.taxe.id=t),c(t)}),_("blur",function(){d(i);let t=s();return c(t.validator.taxe.validate())}),k(55,Me,2,2,"option",29,y),a(),o(57,"button",30),_("click",function(){d(i);let t=s();return c(t.navigateToTaxeCreate())}),b(),h(58,"svg",31),a(),w(),o(59,"c-form-feedback",16),m(60),a()()(),o(61,"c-col",13)(62,"label",34),m(63,"Fournisseur"),a(),o(64,"c-input-group")(65,"select",35),x("ngModelChange",function(t){d(i);let l=s();return g(l.fournisseur.id,t)||(l.fournisseur.id=t),c(t)}),_("blur",function(){d(i);let t=s();return c(t.validator.fournisseur.validate())}),k(66,Ie,2,2,"option",29,y),a(),o(68,"button",30),_("click",function(){d(i);let t=s();return c(t.navigateToFournisseurCreate())}),b(),h(69,"svg",31),a(),w(),o(70,"c-form-feedback",16),m(71),a()()()()()()}if(r&2){let i=s();n(6),f("ngModel",i.item.nom),p("valid",i.validator.nom.valid),n(),p("valid",!1),n(),v(i.validator.nom.message),n(4),f("ngModel",i.item.sku),p("valid",i.validator.sku.valid),n(),p("valid",!1),n(),v(i.validator.sku.message),n(4),f("ngModel",i.item.barcode),p("valid",i.validator.barcode.valid),n(),p("valid",!1),n(),v(i.validator.barcode.message),n(4),f("ngModel",i.item.niveauStockInitial),p("valid",i.validator.niveauStockInitial.valid),n(),p("valid",!1),n(),v(i.validator.niveauStockInitial.message),n(4),f("ngModel",i.item.pointCommande),p("valid",i.validator.pointCommande.valid),n(),p("valid",!1),n(),v(i.validator.pointCommande.message),n(4),f("ngModel",i.item.prixGros),p("valid",i.validator.prixGros.valid),n(),p("valid",!1),n(),v(i.validator.prixGros.message),n(5),f("ngModel",i.devises.id),p("valid",i.validator.devises.valid),n(),T(i.devisesList),n(4),p("valid",!1),n(),v(i.validator.devises.message),n(5),f("ngModel",i.taxe.id),p("valid",i.validator.taxe.valid),n(),T(i.taxeList),n(4),p("valid",!1),n(),v(i.validator.taxe.message),n(5),f("ngModel",i.fournisseur.id),p("valid",i.validator.fournisseur.valid),n(),T(i.fournisseurList),n(4),p("valid",!1),n(),v(i.validator.fournisseur.message)}}var at=(()=>{let u=class u{constructor(){this.isPartOfUpdateForm=!1,this.sending=!1,this.resetting=!1,this.standAlon=!0,this.router=S(A),this.service=S(me),this.devisesService=S(ue),this.taxeService=S(ve),this.fournisseurService=S(de),this.entrepriseService=S(le),this.validator=fe.init(()=>this.item),this.niveauStockGetter=()=>this.niveauStock,this.niveauStockSetter=e=>this.niveauStock=e}set setItemGetter(e){this.itemGetter=e,this.standAlon=!1}set setItemSetter(e){this.itemSetter=e}set setValidator(e){this.validator=e}ngAfterContentInit(){!this.isPartOfUpdateForm&&this.item.id==null&&this.router.navigate(["/produit/produit"]).then()}ngOnInit(){if(this.service.keepData){let e=this.devisesService.createdItemAfterReturn;e.created&&(this.item.devises=e.item,this.validator.devises.validate());let t=this.taxeService.createdItemAfterReturn;t.created&&(this.item.taxe=t.item,this.validator.taxe.validate());let l=this.fournisseurService.createdItemAfterReturn;l.created&&(this.item.fournisseur=l.item,this.validator.fournisseur.validate())}else this.validator.reset();this.loadDevisesList(),this.loadTaxeList(),this.loadFournisseurList(),this.loadEntrepriseList()}loadDevisesList(){this.devisesService.findAllOptimized().subscribe({next:e=>this.devisesList=e,error:e=>console.log(e)})}loadTaxeList(){this.taxeService.findAllOptimized().subscribe({next:e=>this.taxeList=e,error:e=>console.log(e)})}loadFournisseurList(){this.fournisseurService.findAllOptimized().subscribe({next:e=>this.fournisseurList=e,error:e=>console.log(e)})}loadEntrepriseList(){this.entrepriseService.findAllOptimized().subscribe({next:e=>this.entrepriseList=e,error:e=>console.log(e)})}update(){console.log(this.item),this.validator.validate()&&(this.sending=!0,this.service.update().subscribe({next:e=>{this.sending=!1,e!=null&&this.router.navigate(["/produit/produit"]).then()},error:e=>{this.sending=!1,console.log(e)}}))}reset(){this.resetting=!0,this.service.findById(this.item.id).subscribe({next:e=>{this.item=e,this.validator.reset(),this.resetting=!1},error:e=>{console.log(e),this.resetting=!1}})}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.itemGetter()}set item(e){this.itemSetter(e)}itemGetter(){return this.service.item}itemSetter(e){this.service.item=e}get niveauStock(){return this.item.niveauStock==null&&(this.item.niveauStock=new ge),this.item.niveauStock}set niveauStock(e){this.item.niveauStock=e}get devises(){return this.item.devises==null&&(this.item.devises=new pe),this.item.devises}set devises(e){this.item.devises=e}get taxe(){return this.item.taxe==null&&(this.item.taxe=new _e),this.item.taxe}set taxe(e){this.item.taxe=e}get fournisseur(){return this.item.fournisseur==null&&(this.item.fournisseur=new se),this.item.fournisseur}set fournisseur(e){this.item.fournisseur=e}get entreprise(){return this.item.entreprise==null&&(this.item.entreprise=new ae),this.item.entreprise}set entreprise(e){this.item.entreprise=e}navigateToDevisesCreate(){this.devisesService.returnUrl=this.router.url,this.router.navigate(["/parametres/devises/create"]).then()}navigateToTaxeCreate(){this.taxeService.returnUrl=this.router.url,this.router.navigate(["/parametres/taxe/create"]).then()}navigateToFournisseurCreate(){this.fournisseurService.returnUrl=this.router.url,this.router.navigate(["/contacts/fournisseur/create"]).then()}navigateToEntrepriseCreate(){this.entrepriseService.returnUrl=this.router.url,this.router.navigate(["/parametres/entreprise/create"]).then()}cancel(){this.item=new ce}retour(){this.router.navigate(["/pays/pays/list"]).then()}};u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=W({type:u,selectors:[["app-produit-update"]],inputs:{setItemGetter:[0,"getter","setItemGetter"],setItemSetter:[0,"setter","setItemSetter"],setValidator:[0,"validator","setValidator"]},standalone:!0,features:[G],decls:8,vars:2,consts:[["createFrom",""],[1,"mb-3"],[1,"hstack","gap"],[1,"p-2","ms-auto"],["cButton","","color","secondary","variant","outline","routerLink","/produit/produit",3,"click"],[1,"p-2"],["cButton","","color","dark",3,"click"],["aria-hidden","true","size","sm"],["cIcon","","name","cilReload"],["cButton","","color","primary",3,"click"],["cIcon","","name","cilPen"],[4,"ngTemplateOutlet"],[1,"g-3"],["sm","4"],["cLabel","","for","nom"],["cFormControl","","id","nom","type","text","placeholder","Nom","name","nom",3,"ngModelChange","blur","ngModel","valid"],[3,"valid"],["cLabel","","for","sku"],["cFormControl","","id","sku","type","text","placeholder","Sku","name","sku",3,"ngModelChange","blur","ngModel","valid"],["cLabel","","for","barcode"],["cFormControl","","id","barcode","type","text","placeholder","Barcode","name","barcode",3,"ngModelChange","blur","ngModel","valid"],["cLabel","","for","niveauStockInitial"],["cFormControl","","id","niveauStockInitial","type","number","placeholder","NiveauStockInitial","name","niveauStockInitial",3,"ngModelChange","blur","ngModel","valid"],["cLabel","","for","pointCommande"],["cFormControl","","id","pointCommande","type","number","placeholder","PointCommande","name","pointCommande",3,"ngModelChange","blur","ngModel","valid"],["cLabel","","for","prixGros"],["cFormControl","","id","prixGros","type","number","placeholder","PrixGros","name","prixGros",3,"ngModelChange","blur","ngModel","valid"],["cLabel","","for","devises"],["cSelect","","id","devises","name","devises",3,"ngModelChange","blur","ngModel","valid"],[3,"value"],["cButton","","color","secondary","type","button","variant","outline",3,"click"],["cIcon","","name","cilPlus"],["cLabel","","for","taxe"],["cSelect","","id","taxe","name","taxe",3,"ngModelChange","blur","ngModel","valid"],["cLabel","","for","fournisseur"],["cSelect","","id","fournisseur","name","fournisseur",3,"ngModelChange","blur","ngModel","valid"]],template:function(t,l){t&1&&(C(0,ke,16,3),V(1,0,xe),C(3,Ve,1,1),V(4,3,Ce),C(6,Ue,72,36,"ng-template",null,0,B)),t&2&&(n(),P(l.standAlon),n(3),P(!l.standAlon))},dependencies:[j,D,K,J,oe,ne,re,Z,te,ie,$,ee,q,O,R,H,F,z,L]});let r=u;return r})();export{at as ProduitUpdateComponent};
