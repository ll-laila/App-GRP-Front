import{a as _e}from"./chunk-4LQGZJUS.js";import{a as de}from"./chunk-KW3RL3BA.js";import{a as N,b as ue}from"./chunk-JJWAPVHG.js";import"./chunk-SR3OXJX3.js";import{a as pe}from"./chunk-J5REKJTI.js";import{a as ie,b as ne,c as re,f as oe,i as ae,j as le,k as ce,n as se}from"./chunk-RMR25O2K.js";import{$ as ee,I as H,K as q,L as J,M as K,N as Q,O as X,P as Y,T as Z,U as M,_ as $,p as G,ta as te,v as A,w as U,y as j}from"./chunk-ETPUSV7N.js";import{c as E}from"./chunk-DKLNZNMU.js";import{a as me}from"./chunk-PTMIGOEM.js";import{d as z,e as B}from"./chunk-EVAI7AMW.js";import"./chunk-2BQUVQN4.js";import"./chunk-RTZTBWEW.js";import"./chunk-VVDYSQS6.js";import"./chunk-LUIBGOM6.js";import{Cb as d,Ib as T,Kb as I,Lb as L,Mb as O,Nb as r,Ob as l,Pb as x,Sb as V,Tb as g,Wb as v,Yb as c,ec as D,fc as s,ga as f,gb as a,gc as h,ka as F,lc as S,mc as y,nc as w,pc as R,va as p,vc as W,wa as u,wb as _,xa as C,xb as k,ya as b,yb as P}from"./chunk-BXK32XEB.js";import"./chunk-RGL3W33T.js";var ve=()=>[M,import("./chunk-K4L4KWTC.js").then(t=>t.NgTemplateOutlet),G,B,ee,$,te,E],fe=()=>[import("./chunk-K4L4KWTC.js").then(t=>t.NgTemplateOutlet)];function xe(t,o){if(t&1){let i=g();r(0,"c-nav-item",3)(1,"button",11),v("click",function(){p(i);let n=c(2);return u(n.retour())}),s(2,"Return"),l()()}if(t&2){let i=c(2);a(),d("routerLink",i.returnUrl)}}function Ce(t,o){t&1&&x(0,"c-spinner",8)}function ge(t,o){t&1&&(C(),x(0,"svg",9))}function he(t,o){t&1&&V(0)}function Se(t,o){if(t&1){let i=g();r(0,"c-row",1)(1,"c-nav",2),_(2,xe,3,1,"c-nav-item",3),r(3,"c-nav-item",4)(4,"button",5),v("click",function(){p(i);let n=c();return u(n.cancel())}),s(5,"Annuler"),l()(),r(6,"c-nav-item",3)(7,"button",6),v("click",function(){p(i);let n=c();return u(n.reset())}),s(8,"R\xE9initialiser"),l()(),r(9,"c-nav-item",3)(10,"button",7),v("click",function(){p(i);let n=c();return u(n.create())}),_(11,Ce,1,0,"c-spinner",8)(12,ge,1,0,":svg:svg",9),s(13," Cr\xE9er "),l()()()(),_(14,he,1,0,"ng-container",10)}if(t&2){let i=c(),e=D(7);a(2),T(i.toReturn?2:-1),a(9),T(i.sending?11:12),a(3),d("ngTemplateOutlet",e)}}function ye(t,o){t&1&&V(0)}function we(t,o){if(t&1&&_(0,ye,1,0,"ng-container",10),t&2){c();let i=D(7);d("ngTemplateOutlet",i)}}function Ne(t,o){if(t&1&&(r(0,"option",21),s(1),l()),t&2){let i=o.$implicit;d("value",i),a(),h(i)}}function be(t,o){if(t&1){let i=g();r(0,"c-card",1)(1,"c-card-header")(2,"strong",12),s(3,'Veuillez remplir les informations ci-dessous pour cr\xE9er un nouveau "Niveau de fid\xE9lit\xE9"'),l()(),r(4,"c-card-body")(5,"c-row",13)(6,"c-col",14),C(),x(7,"svg",15),b(),r(8,"label",16),s(9,"Nom"),l(),r(10,"input",17),w("ngModelChange",function(n){p(i);let m=c();return y(m.item.nom,n)||(m.item.nom=n),u(n)}),v("blur",function(){p(i);let n=c();return u(n.validator.nom.validate())}),l(),r(11,"c-form-feedback",18),s(12),l()(),r(13,"c-col",14),C(),x(14,"svg",19),b(),r(15,"label",16),s(16,"Type"),l(),r(17,"select",20),w("ngModelChange",function(n){p(i);let m=c();return y(m.item.type,n)||(m.item.type=n),u(n)}),v("blur",function(){p(i);let n=c();return u(n.validator.type.validate())}),L(18,Ne,2,2,"option",21,I),l(),r(20,"c-form-feedback",18),s(21),l()(),r(22,"c-col",22)(23,"c-form-check")(24,"input",23),w("ngModelChange",function(n){p(i);let m=c();return y(m.item.actif,n)||(m.item.actif=n),u(n)}),l(),r(25,"label",24),s(26,"Actif"),l()()()()()()}if(t&2){let i=c();a(10),S("ngModel",i.item.nom),d("valid",i.validator.nom.valid),a(),d("valid",!1),a(),h(i.validator.nom.message),a(5),S("ngModel",i.item.type),d("valid",i.validator.type.valid),a(),O(i.statutNiveauPrixEnumList),a(2),d("valid",!1),a(),h(i.validator.type.message),a(3),S("ngModel",i.item.actif)}}var Ue=(()=>{let o=class o{constructor(){this.sending=!1,this.standAlon=!0,this.toasterService=f(pe),this.entrepriseSelectedService=f(me),this.router=f(z),this.service=f(ue),this.validator=_e.init(()=>this.item),this.statutNiveauPrixEnumList=Object.values(de)}set setItemGetter(e){this.itemGetter=e,this.standAlon=!1}set setItemSetter(e){this.itemSetter=e}set setValidator(e){this.validator=e}ngOnInit(){this.service.keepData||this.reset(!1),this.service.keepData=!1}create(){console.log(this.item),this.validator.validate()&&(this.sending=!0,this.item.idEntreprise=this.entrepriseSelectedService.getEntrepriseSelected(),this.service.create().subscribe({next:e=>{if(this.sending=!1,e!=null){if(this.toReturn){this.item=e,this.router.navigate([this.returnUrl]).then();return}this.item=new N,this.router.navigate(["/parametres/niveau-prix"]).then(),this.toasterService.toast({message:"Un nouveau niveau de fid\xE9lit\xE9 a \xE9t\xE9 ajout\xE9",color:"success"})}},error:e=>{this.sending=!1,console.log(e),this.validator.import(e.error)}}))}reset(e=!0){(e||this.item==null)&&(this.item=new N),this.validator.reset()}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.itemGetter()}set item(e){this.itemSetter(e)}itemGetter(){return this.service.item}itemSetter(e){this.service.item=e}get returnUrl(){return this.service.returnUrl}get toReturn(){return this.service.toReturn()}cancel(){this.item=new N}retour(){this.router.navigate(["/pays/pays/list"]).then()}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=F({type:o,selectors:[["app-niveau-prix-create"]],inputs:{setItemGetter:[0,"getter","setItemGetter"],setItemSetter:[0,"setter","setItemSetter"],setValidator:[0,"validator","setValidator"]},standalone:!0,features:[R],decls:8,vars:2,consts:[["createFrom",""],[1,"mb-3"],[1,"hstack","gap"],[1,"p-2"],[1,"p-2","ms-auto"],["cButton","","color","secondary","variant","outline","routerLink","/parametres/niveau-prix",3,"click"],["cButton","","color","dark",3,"click"],["cButton","","color","primary",3,"click"],["aria-hidden","true","size","sm"],["cIcon","","name","cilPlus"],[4,"ngTemplateOutlet"],["cButton","","color","secondary",3,"click","routerLink"],[1,"responsive-header",2,"color","#1d0528","font-family","'Times New Roman'","font-size","21px","margin-left","300px"],[1,"g-3"],["sm","4"],["cIcon","","name","cil-barcode",2,"color","blue","font-size","30px"],["cLabel","","for","nom",2,"color","black","font-family","'Times New Roman'","font-size","18px","font-weight","bold"],["cFormControl","","id","nom","type","text","placeholder","Nom","name","nom",3,"ngModelChange","blur","ngModel","valid"],[3,"valid"],["cIcon","","name","cil-check-alt",2,"color","blue","font-size","30px"],["cSelect","","id","type","name","type",3,"ngModelChange","blur","ngModel","valid"],[3,"value"],["sm","12",1,"g-3"],["cFormCheckInput","","id","actif","name","actif","type","checkbox",3,"ngModelChange","ngModel"],["cFormCheckLabel","","for","actif"]],template:function(n,m){n&1&&(_(0,Se,15,3),k(1,0,ve),_(3,we,1,1),k(4,3,fe),_(6,be,27,9,"ng-template",null,0,W)),n&2&&(a(),P(m.standAlon),a(3),P(!m.standAlon))},dependencies:[q,M,Z,Y,se,le,ce,ne,ie,ae,re,oe,J,A,U,j,E,Q,K,X,H],styles:['@charset "UTF-8";.responsive-header[_ngcontent-%COMP%]{font-family:Times New Roman;font-size:21px;margin-left:300px}@media (max-width: 1024px){.responsive-header[_ngcontent-%COMP%]{font-size:18px;margin-left:100px}}@media (max-width: 768px){.responsive-header[_ngcontent-%COMP%]{font-size:16px;margin-left:50px;text-align:center}}@media (max-width: 480px){.responsive-header[_ngcontent-%COMP%]{font-size:14px;margin-left:20px;text-align:center}}']});let t=o;return t})();export{Ue as NiveauPrixCreateComponent};
