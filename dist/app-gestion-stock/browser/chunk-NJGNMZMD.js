import{a as ne}from"./chunk-JRAEGBIA.js";import{a as ie}from"./chunk-YAFLJAWF.js";import{a as te}from"./chunk-AHUUM4CZ.js";import{a as ee}from"./chunk-LAERE26A.js";import"./chunk-KQQNHP2G.js";import"./chunk-SR3OXJX3.js";import{b as K,c as Q,f as X,n as Y}from"./chunk-C5NPBRNY.js";import{a as Z,b as $}from"./chunk-E4IVXHC4.js";import{$ as q,I as A,L as P,P as B,T as H,U as F,_ as j,p as z,ta as J,v as N,w as O,y as R}from"./chunk-EEWOCATZ.js";import{c as k}from"./chunk-4DTSML7Z.js";import{d as L,e as W}from"./chunk-7D4QPVHB.js";import"./chunk-2BQUVQN4.js";import"./chunk-RTZTBWEW.js";import"./chunk-3HUUSNPM.js";import"./chunk-H2QFYA5F.js";import{Cb as p,Ib as M,Nb as r,Ob as a,Pb as f,Sb as E,Tb as D,Wb as g,Yb as l,ec as y,fb as o,fc as c,ga as S,gc as v,ka as I,lc as C,mc as b,nc as w,pc as G,va as d,vc as U,wa as _,wb as u,xa as x,xb as T,ya as h,yb as V}from"./chunk-4HLAVBW4.js";import"./chunk-RGL3W33T.js";var re=()=>[F,import("./chunk-CYWVAYB3.js").then(n=>n.NgTemplateOutlet),z,W,q,j,J,k],oe=()=>[import("./chunk-CYWVAYB3.js").then(n=>n.NgTemplateOutlet)];function ae(n,s){n&1&&f(0,"c-spinner",8)}function se(n,s){n&1&&(x(),f(0,"svg",9))}function le(n,s){n&1&&f(0,"c-spinner",8)}function me(n,s){n&1&&(x(),f(0,"svg",11))}function pe(n,s){n&1&&E(0)}function ce(n,s){n&1&&E(0)}function de(n,s){if(n&1){let i=D();r(0,"c-row",2)(1,"c-nav",3)(2,"c-nav-item",4)(3,"button",5),g("click",function(){d(i);let t=l();return _(t.cancel())}),c(4,"Annuler"),a()(),r(5,"c-nav-item",6)(6,"button",7),g("click",function(){d(i);let t=l();return _(t.reset())}),u(7,ae,1,0,"c-spinner",8)(8,se,1,0,":svg:svg",9),c(9," Reset "),a()(),r(10,"c-nav-item",6)(11,"button",10),g("click",function(){d(i);let t=l();return _(t.update())}),u(12,le,1,0,"c-spinner",8)(13,me,1,0,":svg:svg",11),c(14," Modifier "),a()()()(),u(15,pe,1,0,"ng-container",12)(16,ce,1,0,"ng-container",12)}if(n&2){let i=l(),e=y(7),t=y(9);o(7),M(i.resetting?7:8),o(5),M(i.sending?12:13),o(3),p("ngTemplateOutlet",e),o(),p("ngTemplateOutlet",t)}}function _e(n,s){n&1&&E(0)}function fe(n,s){if(n&1&&u(0,_e,1,0,"ng-container",12),n&2){l();let i=y(7);p("ngTemplateOutlet",i)}}function ue(n,s){if(n&1){let i=D();r(0,"c-card",2)(1,"c-card-header")(2,"strong",13),c(3,'Merci de renseigner les d\xE9tails n\xE9cessaires pour mettre \xE0 jour les informations de cette "Entreprise"'),a()(),r(4,"c-card-body")(5,"c-row",14)(6,"c-col",15),x(),f(7,"svg",16),h(),r(8,"label",17),c(9,"Nom"),a(),r(10,"input",18),w("ngModelChange",function(t){d(i);let m=l();return b(m.item.nom,t)||(m.item.nom=t),_(t)}),g("blur",function(){d(i);let t=l();return _(t.validator.nom.validate())}),a(),r(11,"c-form-feedback",19),c(12),a()(),r(13,"c-col",15),x(),f(14,"svg",20),h(),r(15,"label",21),c(16,"Email"),a(),r(17,"input",22),w("ngModelChange",function(t){d(i);let m=l();return b(m.item.email,t)||(m.item.email=t),_(t)}),g("blur",function(){d(i);let t=l();return _(t.validator.email.validate())}),a(),r(18,"c-form-feedback",19),c(19),a()(),r(20,"c-col",15),x(),f(21,"svg",23),h(),r(22,"label",17),c(23,"T\xE9l\xE9phone"),a(),r(24,"input",24),w("ngModelChange",function(t){d(i);let m=l();return b(m.item.telephone,t)||(m.item.telephone=t),_(t)}),g("blur",function(){d(i);let t=l();return _(t.validator.telephone.validate())}),a(),r(25,"c-form-feedback",19),c(26),a()(),r(27,"c-col",15),x(),f(28,"svg",25),h(),r(29,"label",26),c(30,"Site web"),a(),r(31,"input",27),w("ngModelChange",function(t){d(i);let m=l();return b(m.item.siteweb,t)||(m.item.siteweb=t),_(t)}),g("blur",function(){d(i);let t=l();return _(t.validator.siteweb.validate())}),a(),r(32,"c-form-feedback",19),c(33),a()()()()()}if(n&2){let i=l();o(10),C("ngModel",i.item.nom),p("valid",i.validator.nom.valid),o(),p("valid",!1),o(),v(i.validator.nom.message),o(5),C("ngModel",i.item.email),p("valid",i.validator.email.valid),o(),p("valid",!1),o(),v(i.validator.email.message),o(5),C("ngModel",i.item.telephone),p("valid",i.validator.telephone.valid),o(),p("valid",!1),o(),v(i.validator.telephone.message),o(5),C("ngModel",i.item.siteweb),p("valid",i.validator.siteweb.valid),o(),p("valid",!1),o(),v(i.validator.siteweb.message)}}function ge(n,s){if(n&1&&(r(0,"c-card",2)(1,"c-card-body"),f(2,"app-adresse-update",28),a()()),n&2){let i=l();o(2),p("getter",i.adresseGetter)("setter",i.adresseSetter)("validator",i.validator.adresse)}}var Ne=(()=>{let s=class s{constructor(){this.isPartOfUpdateForm=!1,this.sending=!1,this.resetting=!1,this.standAlon=!0,this.router=S(L),this.service=S($),this.validator=ne.init(()=>this.item).setAdresse(te.init(()=>this.adresse)),this.adresseGetter=()=>this.adresse,this.adresseSetter=e=>this.adresse=e}set setItemGetter(e){this.itemGetter=e,this.standAlon=!1}set setItemSetter(e){this.itemSetter=e}set setValidator(e){this.validator=e}ngAfterContentInit(){!this.isPartOfUpdateForm&&this.item.id==null&&this.router.navigate(["/parametres/entreprise"]).then()}ngOnInit(){this.service.keepData||this.validator.reset()}update(){console.log(this.item),this.validator.validate()&&(this.sending=!0,this.service.update().subscribe({next:e=>{this.sending=!1,e!=null&&this.router.navigate(["/parametres/entreprise"]).then()},error:e=>{this.sending=!1,console.log(e)}}))}reset(){this.resetting=!0,this.service.findById(this.item.id).subscribe({next:e=>{this.item=e,this.validator.reset(),this.resetting=!1},error:e=>{console.log(e),this.resetting=!1}})}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.itemGetter()}set item(e){this.itemSetter(e)}itemGetter(){return this.service.item}itemSetter(e){this.service.item=e}get adresse(){return this.item.adresse==null&&(this.item.adresse=new ee),this.item.adresse}set adresse(e){this.item.adresse=e}cancel(){this.item=new Z}retour(){this.router.navigate(["/pays/pays/list"]).then()}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=I({type:s,selectors:[["app-entreprise-update"]],inputs:{setItemGetter:[0,"getter","setItemGetter"],setItemSetter:[0,"setter","setItemSetter"],setValidator:[0,"validator","setValidator"]},standalone:!0,features:[G],decls:10,vars:2,consts:[["createFrom",""],["createSubEntities",""],[1,"mb-3"],[1,"hstack","gap"],[1,"p-2","ms-auto"],["cButton","","color","secondary","variant","outline","routerLink","/parametres/entreprise",3,"click"],[1,"p-2"],["cButton","","color","dark",3,"click"],["aria-hidden","true","size","sm"],["cIcon","","name","cilReload"],["cButton","","color","primary",3,"click"],["cIcon","","name","cilPen"],[4,"ngTemplateOutlet"],[1,"responsive-header",2,"color","#1d0528","font-family","'Times New Roman'","font-size","21px","margin-left","300px"],[1,"g-3"],["sm","4"],["cIcon","","name","cil-barcode",2,"color","blue","font-size","30px"],["cLabel","","for","telephone",2,"color","black","font-family","'Times New Roman'","font-size","18px","font-weight","bold"],["cFormControl","","id","nom","type","text","placeholder","Nom","name","nom",3,"ngModelChange","blur","ngModel","valid"],[3,"valid"],["cIcon","","name","cil-envelope-closed",2,"color","blue","font-size","30px"],["cLabel","","for","email",2,"color","black","font-family","'Times New Roman'","font-size","19px","font-weight","bold"],["cFormControl","","id","email","type","text","placeholder","Email","name","email",3,"ngModelChange","blur","ngModel","valid"],["cIcon","","name","cil-phone",2,"color","blue","font-size","30px"],["cFormControl","","id","telephone","type","text","placeholder","Telephone","name","telephone",3,"ngModelChange","blur","ngModel","valid"],["cIcon","","name","cib-openstreetmap",2,"color","blue","font-size","30px"],["cLabel","","for","siteweb",2,"color","black","font-family","'Times New Roman'","font-size","18px","font-weight","bold"],["cFormControl","","id","siteweb","type","text","placeholder","Siteweb","name","siteweb",3,"ngModelChange","blur","ngModel","valid"],[3,"getter","setter","validator"]],template:function(t,m){t&1&&(u(0,de,17,4),T(1,0,re),u(3,fe,1,1),T(4,3,oe),u(6,ue,34,16,"ng-template",null,0,U)(8,ge,3,3,"ng-template",null,1,U)),t&2&&(o(),V(m.standAlon),o(3),V(!m.standAlon))},dependencies:[F,H,B,Y,K,Q,X,P,N,O,R,A,k,ie],styles:['@charset "UTF-8";.responsive-header[_ngcontent-%COMP%]{font-family:Times New Roman;font-size:21px;margin-left:300px}@media (max-width: 1024px){.responsive-header[_ngcontent-%COMP%]{font-size:18px;margin-left:100px}}@media (max-width: 768px){.responsive-header[_ngcontent-%COMP%]{font-size:16px;margin-left:50px;text-align:center}}@media (max-width: 480px){.responsive-header[_ngcontent-%COMP%]{font-size:14px;margin-left:20px;text-align:center}}']});let n=s;return n})();export{Ne as EntrepriseUpdateComponent};
