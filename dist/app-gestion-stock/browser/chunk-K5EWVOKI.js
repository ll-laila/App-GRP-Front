import{b as fe}from"./chunk-OMMTH7YH.js";import{b as he}from"./chunk-5IVRGHFP.js";import{a as R,b as ge}from"./chunk-OC237ZXQ.js";import{b as _e}from"./chunk-Q4DP22JL.js";import{a as de}from"./chunk-J5REKJTI.js";import{a as se,b as pe}from"./chunk-G3MDYK2N.js";import{b as te,c as ie,f as re,h as ne,i as oe,j as ce,k as ae,n as le}from"./chunk-RMR25O2K.js";import{a as ue,b as me}from"./chunk-5ID3IPCN.js";import{$ as Z,J as q,K as Q,L as J,P as K,T as X,U as I,_ as Y,p as D,ta as $,ua as ee,v as U,w as H,y as j}from"./chunk-ETPUSV7N.js";import{c as M}from"./chunk-DKLNZNMU.js";import{d as A,e as G}from"./chunk-EVAI7AMW.js";import"./chunk-2BQUVQN4.js";import"./chunk-ROZ2NHZE.js";import"./chunk-VVDYSQS6.js";import"./chunk-LUIBGOM6.js";import{Cb as h,Ib as k,Kb as B,Lb as W,Mb as N,Nb as n,Ob as o,Pb as _,Sb as P,Tb as C,Wb as x,Yb as u,ec as T,fc as a,ga as d,gb as c,gc as S,hc as O,ka as L,lc as w,mc as b,nc as y,pc as z,va as s,vc as E,wa as p,wb as g,xa as f,xb as F,ya as v,yb as V}from"./chunk-BXK32XEB.js";import"./chunk-RGL3W33T.js";var xe=()=>[D,M,Z,Y,import("./chunk-K4L4KWTC.js").then(r=>r.NgTemplateOutlet),G,I,$],ve=()=>[import("./chunk-K4L4KWTC.js").then(r=>r.NgTemplateOutlet)];function Ce(r,l){if(r&1){let t=C();n(0,"c-nav-item",4)(1,"button",12),x("click",function(){s(t);let i=u(2);return p(i.retour())}),a(2,"Return"),o()()}if(r&2){let t=u(2);c(),h("routerLink",t.returnUrl)}}function Se(r,l){r&1&&_(0,"c-spinner",9)}function we(r,l){r&1&&(f(),_(0,"svg",10))}function be(r,l){r&1&&P(0)}function ye(r,l){r&1&&P(0)}function Pe(r,l){if(r&1){let t=C();n(0,"c-row",2)(1,"c-nav",3),g(2,Ce,3,1,"c-nav-item",4),n(3,"c-nav-item",5)(4,"button",6),x("click",function(){s(t);let i=u();return p(i.cancel())}),a(5," Annuler "),o()(),n(6,"c-nav-item",4)(7,"button",7),x("click",function(){s(t);let i=u();return p(i.reset())}),a(8,"Reset"),o()(),n(9,"c-nav-item",4)(10,"button",8),x("click",function(){s(t);let i=u();return p(i.create())}),g(11,Se,1,0,"c-spinner",9)(12,we,1,0,":svg:svg",10),a(13," Cr\xE9er "),o()()()(),g(14,be,1,0,"ng-container",11)(15,ye,1,0,"ng-container",11)}if(r&2){let t=u(),e=T(7),i=T(9);c(2),k(t.toReturn?2:-1),c(9),k(t.sending?11:12),c(3),h("ngTemplateOutlet",e),c(),h("ngTemplateOutlet",i)}}function Te(r,l){r&1&&P(0)}function Re(r,l){if(r&1&&g(0,Te,1,0,"ng-container",11),r&2){u();let t=T(7);h("ngTemplateOutlet",t)}}function Fe(r,l){if(r&1){let t=C();n(0,"c-card",13)(1,"c-card-body")(2,"c-row",14)(3,"c-col",15),f(),_(4,"svg",16),v(),n(5,"label",17),a(6,"Code"),o(),n(7,"input",18),y("ngModelChange",function(i){s(t);let m=u();return b(m.itemF.code,i)||(m.itemF.code=i),p(i)}),o()(),n(8,"c-col",15),f(),_(9,"svg",19),v(),n(10,"label",20),a(11,"Client"),o(),n(12,"c-input-group")(13,"select",21),y("ngModelChange",function(i){s(t);let m=u();return b(m.itemF.client,i)||(m.itemF.client=i),p(i)}),n(14,"option",22),a(15),o()(),n(16,"button",23),x("click",function(){s(t);let i=u();return p(i.navigateToClientCreate())}),f(),_(17,"svg",10),o()()(),v(),n(18,"c-col",15),f(),_(19,"svg",24),v(),n(20,"label",25),a(21,"Entreprise"),o(),n(22,"c-input-group")(23,"select",26),y("ngModelChange",function(i){s(t);let m=u();return b(m.itemF.entreprise,i)||(m.itemF.entreprise=i),p(i)}),n(24,"option",22),a(25),o()(),n(26,"button",23),x("click",function(){s(t);let i=u();return p(i.navigateToEntrepriseCreate())}),f(),_(27,"svg",10),o()()()()()()}if(r&2){let t=u();c(7),w("ngModel",t.itemF.code),c(6),w("ngModel",t.itemF.client),c(),h("value",t.itemF.client),c(),S(t.itemF.client==null?null:t.itemF.client.nom),c(8),w("ngModel",t.itemF.entreprise),c(),h("value",t.itemF.entreprise),c(),S(t.itemF.entreprise==null?null:t.itemF.entreprise.nom)}}function Ve(r,l){if(r&1){let t=C();n(0,"tr")(1,"td"),a(2),o(),n(3,"td"),a(4),o(),n(5,"td")(6,"input",31),y("ngModelChange",function(i){let m=s(t).$implicit;return b(m.quantite,i)||(m.quantite=i),p(i)}),o()(),n(7,"td"),a(8),o(),n(9,"td",32)(10,"button",33),x("click",function(){s(t);let i=u(2);return p(i.deleteretourProduitProduit(i.itemRP))}),f(),_(11,"svg",34),o()()()}if(r&2){let t=l.$implicit;c(2),O(" ",t.produit!=null?t.produit.nom:"null"," "),c(2),S(t.prix),c(2),w("ngModel",t.quantite),c(2),S(t.disponible)}}function ke(r,l){if(r&1&&(n(0,"c-card",13)(1,"c-card-header")(2,"strong"),a(3,"S\xE9lectionner des produits"),o()(),n(4,"c-card-body")(5,"table",27)(6,"thead",28)(7,"tr")(8,"th",29),a(9,"Produit"),o(),n(10,"th",29),a(11,"Prix"),o(),n(12,"th",29),a(13,"Quantite"),o(),n(14,"th",29),a(15,"Disponible"),o(),n(16,"th",30),a(17,"Actions"),o()()(),n(18,"tbody"),W(19,Ve,12,4,"tr",null,B),o()()()()),r&2){let t=u();c(5),h("hover",!0)("responsive",!0)("striped",!0),c(14),N(t.itemF.factureProduit)}}var Xe=(()=>{let l=class l{constructor(){this.factureService=d(_e),this.factureProduitService=d(fe),this.retourProduitService=d(ge),this.entrepriseService=d(me),this.clientService=d(pe),this.retourProduitProduitService=d(he),this.toasterService=d(de),this.sending=!1,this.standAlon=!0,this.router=d(A)}set itemsFactureProduit(e){this.factureProduitService.items=e}get itemFactureProduit(){return this.factureProduitService.item}set itemFactureProduit(e){this.factureProduitService.item=e}get toReturn(){return this.retourProduitService.toReturn()}get itemRP(){return this.retourProduitProduitService.item}deleteretourProduitProduit(e){this.item.retourProduitProduit=this.item.retourProduitProduit?.filter(i=>i!==e)}set items(e){this.retourProduitService.items=e}get item(){return this.retourProduitService.item}set item(e){this.retourProduitService.item=e}get returnUrl(){return this.retourProduitService.returnUrl}cancel(){this.item=new R}retour(){this.router.navigate(["/pays/pays/list"]).then()}reset(e=!0){(e||this.item==null)&&(this.item=new R)}create(){console.log(this.item),this.sending=!0,this.retourProduitService.create().subscribe({next:e=>{if(this.sending=!1,e!=null){if(this.toReturn){this.item=e,this.router.navigate([this.returnUrl]).then();return}this.item=new R,this.router.navigate(["/ventes/retourproduit/retour-produit"]).then(),this.toasterService.toast({message:"votre retour de produit a \xE9t\xE9 effectu\xE9 avec success",color:"success"})}},error:e=>{this.sending=!1,console.log(e)}})}get client(){return this.item.client==null&&(this.item.client=new se),this.item.client}set client(e){this.item.client=e}navigateToClientCreate(){this.clientService.returnUrl=this.router.url,this.retourProduitService.keepData=!0,this.router.navigate(["/contacts/client/create"]).then()}navigateToEntrepriseCreate(){this.entrepriseService.returnUrl=this.router.url,this.retourProduitService.keepData=!0,this.router.navigate(["/parametres/entreprise/create"]).then()}get entreprise(){return this.item.entreprise==null&&(this.item.entreprise=new ue),this.item.entreprise}set entreprise(e){this.item.entreprise=e}ngOnInit(){this.factureService.findById(this.itemF.id).subscribe({next:e=>{this.factureService.item=e},error:e=>console.log(e)})}set itemsF(e){this.factureService.items=e}get itemF(){return this.factureService.item}set itemF(e){this.factureService.item=e}};l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=L({type:l,selectors:[["app-retourfacture"]],standalone:!0,features:[z],decls:10,vars:2,consts:[["createFrom",""],["devisProduitCreate",""],[0,"xmlns","border-radius","http://www.w3.org/1999/xhtml",0,"xmlns","border-radius","http://www.w3.org/1999/xhtml",1,"mb-3"],[1,"hstack","gap"],[1,"p-2"],[1,"p-2","ms-auto"],["cButton","","color","secondary","variant","outline","routerLink","/ventes/facture/facture",3,"click"],["cButton","","color","dark",3,"click"],["cButton","","color","primary",3,"click"],["aria-hidden","true","size","sm"],["cIcon","","name","cilPlus"],[4,"ngTemplateOutlet"],["cButton","","color","secondary",3,"click","routerLink"],[1,"mb-3"],[1,"g-3"],["sm","4"],["cIcon","","name","cil-barcode",2,"color","blue","font-size","30px"],["cLabel","","for","codhe",2,"color","black","font-family","'Times New Roman'","font-size","18px","font-weight","bold"],["cFormControl","","id","codhe","type","text","placeholder","Code","name","code",3,"ngModelChange","ngModel"],["cIcon","","name","cilUser",2,"color","blue","font-size","30px"],["cLabel","","for","client",2,"color","black","font-family","'Times New Roman'","font-size","18px","font-weight","bold"],["cSelect","","id","client","name","client",3,"ngModelChange","ngModel"],[3,"value"],["cButton","","color","secondary","type","button","variant","outline",3,"click"],["cIcon","","name","cil-building",2,"color","blue","font-size","30px"],["cLabel","","for","entreprise",2,"color","black","font-family","'Times New Roman'","font-size","18px","font-weight","bold"],["cSelect","","id","entreprise","name","entreprise",3,"ngModelChange","ngModel"],["align","middle","cTable","",1,"mb-0","border",3,"hover","responsive","striped"],[1,"text-nowrap","text-truncate"],[1,"bg-body-tertiary"],[1,"bg-body-tertiary",2,"display","flex","justify-content","end"],["type","number",3,"ngModelChange","ngModel"],[2,"display","flex","justify-content","end"],["cButton","","color","",3,"click"],["cIcon","","name","cil-trash","size","lg"]],template:function(i,m){i&1&&(g(0,Pe,16,4),F(1,0,xe),g(3,Re,1,1),F(4,3,ve),g(6,Fe,28,7,"ng-template",null,0,E)(8,ke,21,3,"ng-template",null,1,E)),i&2&&(c(),V(m.standAlon),c(3),V(!m.standAlon))},dependencies:[D,H,U,j,X,K,J,Q,le,ce,ae,te,ne,oe,ie,re,M,q,I,ee]});let r=l;return r})();export{Xe as RetourfactureComponent};
