import{a as $}from"./chunk-ZQQL45F7.js";import{a as Y,b as Z}from"./chunk-C3MUFMYW.js";import"./chunk-SR3OXJX3.js";import{b as J,c as K,f as Q,n as X}from"./chunk-RMR25O2K.js";import{$ as j,I as L,L as R,P as W,T as z,U as F,_ as H,p as O,ta as q,v as B,w as E}from"./chunk-ETPUSV7N.js";import{c as S}from"./chunk-DKLNZNMU.js";import{d as A,e as N}from"./chunk-EVAI7AMW.js";import"./chunk-2BQUVQN4.js";import"./chunk-RTZTBWEW.js";import"./chunk-VVDYSQS6.js";import"./chunk-LUIBGOM6.js";import{Cb as f,Ib as y,Nb as m,Ob as l,Pb as d,Sb as D,Tb as b,Wb as g,Yb as a,ec as P,fc as _,ga as C,gb as o,gc as V,ka as T,lc as k,mc as I,nc as U,pc as M,va as c,vc as G,wa as p,wb as s,xa as v,xb as h,ya as w,yb as x}from"./chunk-BXK32XEB.js";import"./chunk-RGL3W33T.js";var ee=()=>[F,import("./chunk-K4L4KWTC.js").then(e=>e.NgTemplateOutlet),O,N,j,H,q,S],te=()=>[import("./chunk-K4L4KWTC.js").then(e=>e.NgTemplateOutlet)];function ne(e,i){e&1&&d(0,"c-spinner",7)}function ie(e,i){e&1&&(v(),d(0,"svg",8))}function re(e,i){e&1&&d(0,"c-spinner",7)}function oe(e,i){e&1&&(v(),d(0,"svg",10))}function ae(e,i){e&1&&D(0)}function se(e,i){if(e&1){let r=b();m(0,"c-row",1)(1,"c-nav",2)(2,"c-nav-item",3)(3,"button",4),g("click",function(){c(r);let n=a();return p(n.cancel())}),_(4,"Annuler"),l()(),m(5,"c-nav-item",5)(6,"button",6),g("click",function(){c(r);let n=a();return p(n.reset())}),s(7,ne,1,0,"c-spinner",7)(8,ie,1,0,":svg:svg",8),_(9," Actualiser "),l()(),m(10,"c-nav-item",5)(11,"button",9),g("click",function(){c(r);let n=a();return p(n.update())}),s(12,re,1,0,"c-spinner",7)(13,oe,1,0,":svg:svg",10),_(14," Modifier "),l()()()(),s(15,ae,1,0,"ng-container",11)}if(e&2){let r=a(),t=P(7);o(7),y(r.resetting?7:8),o(5),y(r.sending?12:13),o(3),f("ngTemplateOutlet",t)}}function me(e,i){e&1&&D(0)}function le(e,i){if(e&1&&s(0,me,1,0,"ng-container",11),e&2){a();let r=P(7);f("ngTemplateOutlet",r)}}function ce(e,i){if(e&1){let r=b();m(0,"c-card",1)(1,"c-card-body")(2,"c-row",12)(3,"c-col",13),v(),d(4,"svg",14),w(),m(5,"label",15),_(6,"Nom"),l(),m(7,"input",16),U("ngModelChange",function(n){c(r);let u=a();return I(u.item.name,n)||(u.item.name=n),p(n)}),g("blur",function(){c(r);let n=a();return p(n.validator.name.validate())}),l(),m(8,"c-form-feedback",17),_(9),l()()()()()}if(e&2){let r=a();o(7),k("ngModel",r.item.name),f("valid",r.validator.name.valid),o(),f("valid",!1),o(),V(r.validator.name.message)}}var ke=(()=>{let i=class i{constructor(){this.isPartOfUpdateForm=!1,this.sending=!1,this.resetting=!1,this.standAlon=!0,this.router=C(A),this.service=C(Z),this.validator=$.init(()=>this.item)}set setItemGetter(t){this.itemGetter=t,this.standAlon=!1}set setItemSetter(t){this.itemSetter=t}set setValidator(t){this.validator=t}ngAfterContentInit(){!this.isPartOfUpdateForm&&this.item.id==null&&this.router.navigate(["/adresse/pays"]).then()}ngOnInit(){this.service.keepData||this.validator.reset()}update(){console.log(this.item),this.validator.validate()&&(this.sending=!0,this.service.update().subscribe({next:t=>{this.sending=!1,t!=null&&this.router.navigate(["/adresse/pays"]).then()},error:t=>{this.sending=!1,console.log(t)}}))}reset(){this.resetting=!0,this.service.findById(this.item.id).subscribe({next:t=>{this.item=t,this.validator.reset(),this.resetting=!1},error:t=>{console.log(t),this.resetting=!1}})}get items(){return this.service.items}set items(t){this.service.items=t}get item(){return this.itemGetter()}set item(t){this.itemSetter(t)}itemGetter(){return this.service.item}itemSetter(t){this.service.item=t}cancel(){this.item=new Y}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=T({type:i,selectors:[["app-pays-update"]],inputs:{setItemGetter:[0,"getter","setItemGetter"],setItemSetter:[0,"setter","setItemSetter"],setValidator:[0,"validator","setValidator"]},standalone:!0,features:[M],decls:8,vars:2,consts:[["createFrom",""],[1,"mb-3"],[1,"hstack","gap"],[1,"p-2","ms-auto"],["cButton","","color","secondary","variant","outline","routerLink","/adresse/pays",3,"click"],[1,"p-2"],["cButton","","color","dark",3,"click"],["aria-hidden","true","size","sm"],["cIcon","","name","cilReload"],["cButton","","color","primary",3,"click"],["cIcon","","name","cilPen"],[4,"ngTemplateOutlet"],[1,"g-3"],["sm","4"],["cIcon","","name","cil-globe-alt",2,"color","blue","font-size","30px"],["cLabel","","for","name"],["cFormControl","","id","name","type","text","placeholder","Name","name","name",3,"ngModelChange","blur","ngModel","valid"],[3,"valid"]],template:function(n,u){n&1&&(s(0,se,16,3),h(1,0,ee),s(3,le,1,1),h(4,3,te),s(6,ce,10,4,"ng-template",null,0,G)),n&2&&(o(),x(u.standAlon),o(3),x(!u.standAlon))},dependencies:[F,z,W,X,J,K,Q,R,B,E,L,S]});let e=i;return e})();export{ke as PaysUpdateComponent};
